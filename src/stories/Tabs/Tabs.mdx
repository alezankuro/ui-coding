import { Meta, Story, Canvas, Controls } from '@storybook/blocks';
import * as TabsStories from './Tabs.stories';

<Meta of={TabsStories} />

# Tabs Component

The Tabs component is an accessible and keyboard-navigable tabbed interface that allows users to switch between different content panels.

## Features

- Fully accessible with proper ARIA attributes
- Keyboard navigation support (arrow keys, home, end)
- Customizable styling through CSS variables
- Compound component pattern for flexible usage

## Usage

### Basic Usage

```tsx
import { useState } from 'react';
import Tabs from './components/Tabs/Tabs.component';

function MyComponent() {
    const [activeTab, setActiveTab] = useState('tab1');

    return (
        <Tabs value={activeTab} onChange={setActiveTab}>
            <Tabs.List>
                <Tabs.Tab value="tab1">Tab 1</Tabs.Tab>
                <Tabs.Tab value="tab2">Tab 2</Tabs.Tab>
            </Tabs.List>
            <Tabs.Content>
                <Tabs.Panel value="tab1">
                    <p>Content for Tab 1</p>
                </Tabs.Panel>
                <Tabs.Panel value="tab2">
                    <p>Content for Tab 2</p>
                </Tabs.Panel>
            </Tabs.Content>
        </Tabs>
    );
}
```

### Component Structure

The Tabs component uses a compound component pattern with the following parts:

- `Tabs` - The main container component that provides context
- `Tabs.List` - Container for tab buttons
- `Tabs.Tab` - Individual tab button content
- `Tabs.Panel` - Content for each tab
- `Tabs.Content` - Container for tab panels

### Props

#### Tabs Component

```tsx
type TabsProps = {
    children: ReactNode;
    value: string;
    onChange: (value: string) => void;
};
```

- `value`: The value of the currently active tab
- `onChange`: Callback function called when a tab is selected
- `children`: The tab list and content components

#### Tabs.Tab Component

```tsx
type TabProps = {
    value: string;
    children: ReactNode;
};
```

- `value`: Unique identifier for the tab
- `children`: Content of the tab button

#### Tabs.Panel Component

```tsx
type TabProps = {
    value: string;
    children: ReactNode;
};
```

- `value`: Unique identifier matching a tab value
- `children`: Content to display when the tab is active

## Keyboard Navigation

The Tabs component supports the following keyboard interactions:

- **Left Arrow**: Move focus to the previous tab
- **Right Arrow**: Move focus to the next tab
- **Home**: Move focus to the first tab
- **End**: Move focus to the last tab

## Customizing Appearance

You can customize the appearance of the tabs by overriding the CSS variables:

```css
.your-container .tab-list {
    --active-color: #ff5722; /* Change the active tab color */
}
```

Available CSS variables:

- `--active-color`: The color of the active tab (default: rgb(18, 123, 221))

## Examples

### Default Tabs

Basic tabs with three panels:

<Canvas of={TabsStories.Default} />

<Controls of={TabsStories.Default} />

### Programming Languages

Tabs showing information about different programming languages:

<Canvas of={TabsStories.ProgrammingLanguages} />

### Many Tabs

Example with many tabs to demonstrate keyboard navigation:

<Canvas of={TabsStories.ManyTabs} />

### Custom Styling

Tabs with custom styling using CSS variables:

<Canvas of={TabsStories.CustomStyling} />

## Accessibility

The Tabs component follows WAI-ARIA best practices for tab interfaces:

- Proper `role` attributes (`tablist`, `tab`, `tabpanel`)
- Appropriate `aria-selected` states
- Correct `aria-controls` and `aria-labelledby` relationships
- Keyboard focus management

## Implementation Details

The Tabs component uses React Context to manage the active tab state and share it between the tab list and content components. The `useTabsNavigation` hook handles keyboard navigation, allowing users to navigate between tabs using arrow keys, home, and end keys.

Each tab button is associated with its corresponding panel using ARIA attributes, ensuring proper accessibility for screen readers and keyboard users.
